> [English](./realtime_order_book_quote_subscription.md) | [中文](./realtime_order_book_quote_subscription_cn.md)

# 订阅实时盘口报价数据接口说明

该接口特性为对于每一个websocket连接，每发送一次该请求，后台会默认覆盖上一次订阅请求。订阅成功后会进行推送数据。
# 请求-协议号：22002
## 数据格式:json
## 数据结构
### data定义
| 字段        | 名称     | 类型  | 必填项 | 说明                     |
| ----------- | -------- | ----- | ------ | ------------------------ |
| symbol_list | 产品列表 | array | 是     | 具体格式见下面symbol定义 |
### symbol定义
| 字段        | 名称     | 类型   | 必填项 | 说明                                                         |
| ----------- | -------- | ------ | ------ | ------------------------------------------------------------ |
| code        | 代码     | string | 是     | 具体内容，请查阅code列表                                     |
| depth_level | 深度层级 | uint32 | 否     | 如果没有depth_level字段时，后台只会提供一层的报价，请求的层级大于实际报价层级，或者如果没有depth_level字段时，则后台按实际报价有多少层给多少层 |
## 请求示例
```json
{
    "cmd_id":22002,
    "seq_id":123,
    "trace":"asdfsdfa",
    "data":{
        "symbol_list": [
            {
		"code": "HK-1288",
                "depth_level": 5,
            },
	],
    }
}
```
# 应答-协议号：22003
## 数据格式:json
## 数据结构
### data定义
| 字段 | 名称 | 类型 | 说明 |
| --- | --- | --- | --- |
|  |  |  |  |


## 应答示例
```json
{
    "ret":200,
    "msg":"ok",
    "cmd_id":22003,
    "seq_id":123,
    "trace":"asdfsdfa",
    "data":{
    }    
}
```
# 推送-协议号：22999
## 数据格式:json
## 数据结构
### data定义
| 字段      | 名称       | 类型   | 说明                     |
| --------- | ---------- | ------ | ------------------------ |
| code      | 代码       | string | 具体内容，请查阅code列表 |
| seq       | 报价序号   | string |                          |
| tick_time | 报价时间戳 | string | 单位毫秒                 |
| bids      | bid深度    | array  | 见下面bids定义           |
| asks      | ask深度    | array  | 见下面asks定义           |
### bids定义
| 字段   | 名称             | 类型   | 说明 |
| ------ | ---------------- | ------ | ---- |
| price  | 买一价，买盘价格 | string |      |
| volume | 买一量，买盘量   | string |      |
### asks定义
| 字段   | 名称             | 类型   | 说明 |
| ------ | ---------------- | ------ | ---- |
| price  | 买一价，买盘价格 | string |      |
| volume | 买一量，买盘量   | string |      |
## 应答示例
```json
{
    "cmd_id":22999,
    "data":{
	"code": "HK-1288",
        "seq": "1605509068000001",
        "tick_time": "1605509068",
        "bids": [
            {
                "pric": "9.12",
                "volume": "9.12",
            },
        ],
        "asks": [
            {
                "price": "147.12",
                "volume": "147.12",
            },
        ],
    }
}
```
